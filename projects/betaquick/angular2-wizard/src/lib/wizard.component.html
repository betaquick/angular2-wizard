<accordion [closeOthers]="true" [isAnimated]="true">
  <accordion-group *ngFor="let step of steps; let i = index"
                   [isDisabled]="step.isDisabled"
                   [isOpen]="step.isActive"
                   class="mb-2">

    <button accordion-heading
            class="btn btn-xs btn-link btn-block clearfix text-left"
            type="button">
      {{ step.title }}
      <i *ngIf="step.isChecked"
         class="ml-1 fas"
         [ngClass]="{'text-warning fa-exclamation-circle': !step.isValid, 'text-success fa-check-circle': step.isValid}"></i>
    </button>


    <div *ngIf="step.isActive" class="card-block">
      <ng-content></ng-content>
    </div>


    <div class="mb-5" [hidden]="isCompleted">
      <hr>

      <button type="button" class="btn btn-xs btn-secondary float-left" (click)="previous()" [hidden]="!hasPrevStep || !activeStep.showPrev">
        {{ previousText }}
      </button>

      <button type="button" class="btn btn-xs btn-secondary float-right" (click)="next()"
              [disabled]="!activeStep.skipValidation && activeStep.isChecked && !activeStep.isValid"
              [hidden]="!hasNextStep || !activeStep.showNext">{{ nextText }}
      </button>

      <button type="button" class="btn btn-xs btn-outline-success float-right" (click)="complete()"
              [disabled]="!activeStep.skipValidation && activeStep.isChecked && !activeStep.isValid"
              [hidden]="hasNextStep">{{ doneText }}
      </button>
    </div>
  </accordion-group>
</accordion>
